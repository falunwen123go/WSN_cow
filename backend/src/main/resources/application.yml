# 应用配置
app:
  name: WSN Cow Monitor System
  version: 1.0.0

# 数据源配置
datasource:
  driver-class-name: com.mysql.cj.jdbc.Driver
  url: jdbc:mysql://localhost:3306/wsn_cow_monitor?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
  username: root
  password: root
  # HikariCP 连接池配置
  hikari:
    maximum-pool-size: 20
    minimum-idle: 5
    connection-timeout: 30000
    idle-timeout: 600000
    max-lifetime: 1800000
    pool-name: WSN-HikariCP

# MyBatis 配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.wsn.cow.entity
  configuration:
    map-underscore-to-camel-case: true
    cache-enabled: true
    lazy-loading-enabled: false
    log-impl: org.apache.ibatis.logging.slf4j.Slf4jImpl

# 日志配置
logging:
  level:
    root: INFO
    com.wsn.cow: DEBUG
    com.wsn.cow.mapper: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
  file:
    name: logs/cow-monitor.log
    max-size: 10MB
    max-history: 30

# 串口/Socket通信配置
serial:
  enabled: true
  type: socket  # socket 或 serial
  socket:
    port: 8888
    host: 0.0.0.0
  serial:
    port-name: COM3
    baud-rate: 115200
    data-bits: 8
    stop-bits: 1
    parity: 0

# 告警配置
alarm:
  enabled: true
  deduplicate-interval: 600  # 告警去重间隔(秒)

# 设备控制配置
device:
  auto-control-enabled: true
  control-delay: 300  # 自动关闭设备延迟(秒)

# WebSocket配置
websocket:
  enabled: true
  endpoint: /ws
