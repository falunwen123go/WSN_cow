# ç‰›èˆç¯å¢ƒç›‘æµ‹ç³»ç»Ÿ - å‰ç«¯åŠŸèƒ½å®Œæ•´æ–‡æ¡£

## ğŸ“‹ ç›®å½•
- [ç³»ç»Ÿæ¦‚è¿°](#ç³»ç»Ÿæ¦‚è¿°)
- [æŠ€æœ¯æ¶æ„](#æŠ€æœ¯æ¶æ„)
- [é¡µé¢åŠŸèƒ½è¯¦è§£](#é¡µé¢åŠŸèƒ½è¯¦è§£)
- [ç»„ä»¶åº“](#ç»„ä»¶åº“)
- [APIæ¥å£](#apiæ¥å£)
- [æ•°æ®æµè½¬](#æ•°æ®æµè½¬)

---

## ğŸ¯ ç³»ç»Ÿæ¦‚è¿°

### ç³»ç»Ÿå®šä½
ç‰›èˆç¯å¢ƒç›‘æµ‹ç³»ç»Ÿå‰ç«¯æ˜¯ä¸€ä¸ªåŸºäºVue 3çš„ç°ä»£åŒ–å•é¡µåº”ç”¨(SPA),ç”¨äºå®æ—¶ç›‘æ§ç‰›èˆç¯å¢ƒæ•°æ®ã€ç®¡ç†ä¼ æ„Ÿå™¨èŠ‚ç‚¹ã€æ§åˆ¶ç¯å¢ƒè®¾å¤‡ã€å¤„ç†æŠ¥è­¦ä¿¡æ¯ç­‰ã€‚

### æ ¸å¿ƒç‰¹æ€§
- âœ… **å®æ—¶æ•°æ®ç›‘æ§** - æ¸©åº¦ã€æ¹¿åº¦ã€æ°”ä½“æµ“åº¦ã€äº§å¥¶é‡ç­‰å¤šç»´åº¦æ•°æ®å±•ç¤º
- âœ… **æ™ºèƒ½æŒ‡æ ‡è®¡ç®—** - THIæŒ‡æ•°ã€AQIæŒ‡æ•°ã€ç¯å¢ƒç»¼åˆè¯„åˆ†è‡ªåŠ¨è®¡ç®—
- âœ… **å¯è§†åŒ–å›¾è¡¨** - EChartså¤šç§å›¾è¡¨ç±»å‹å±•ç¤ºè¶‹åŠ¿å˜åŒ–
- âœ… **ç½‘ç»œæ‹“æ‰‘ç®¡ç†** - å¯è§†åŒ–èŠ‚ç‚¹å…³ç³»å›¾,æ”¯æŒæ‹–æ‹½äº¤äº’
- âœ… **è®¾å¤‡è¿œç¨‹æ§åˆ¶** - é£æ‰‡ã€çª—å¸˜ã€åŠ çƒ­ã€å–·æ·‹ç­‰è®¾å¤‡ä¸€é”®æ§åˆ¶
- âœ… **æŠ¥è­¦å“åº”ç³»ç»Ÿ** - å¤šçº§æŠ¥è­¦åˆ†ç±»ã€è‡ªåŠ¨è§¦å‘ã€å¤„ç†è·Ÿè¸ª
- âœ… **å†å²æ•°æ®æŸ¥è¯¢** - çµæ´»çš„æ—¶é—´èŒƒå›´æŸ¥è¯¢ã€è¶‹åŠ¿åˆ†æ
- âœ… **ç³»ç»Ÿé…ç½®ç®¡ç†** - é˜ˆå€¼é…ç½®ã€æŠ¥è­¦è§„åˆ™è®¾ç½®

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
```
Vue 3.3+              - æ¸è¿›å¼JavaScriptæ¡†æ¶
TypeScript 5.0+       - ç±»å‹å®‰å…¨çš„JavaScriptè¶…é›†
Vite 5.0+             - ä¸‹ä¸€ä»£å‰ç«¯æ„å»ºå·¥å…·
Element Plus 2.4+     - Vue 3 UIç»„ä»¶åº“
ECharts 5.4+          - æ•°æ®å¯è§†åŒ–å›¾è¡¨åº“
Axios 1.6+            - HTTPè¯·æ±‚åº“
Vue Router 4.0+       - å®˜æ–¹è·¯ç”±ç®¡ç†å™¨
Pinia 2.0+            - VueçŠ¶æ€ç®¡ç†åº“
dayjs 1.11+           - è½»é‡çº§æ—¥æœŸå¤„ç†åº“
```

### é¡¹ç›®ç»“æ„
```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/              # APIæ¥å£å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ alarm.ts      # æŠ¥è­¦æ¥å£
â”‚   â”‚   â”œâ”€â”€ device.ts     # è®¾å¤‡æ¥å£
â”‚   â”‚   â”œâ”€â”€ node.ts       # èŠ‚ç‚¹æ¥å£
â”‚   â”‚   â””â”€â”€ sensor.ts     # ä¼ æ„Ÿå™¨æ•°æ®æ¥å£
â”‚   â”œâ”€â”€ assets/           # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ base.css      # åŸºç¡€æ ·å¼
â”‚   â”‚   â””â”€â”€ main.css      # ä¸»æ ·å¼
â”‚   â”œâ”€â”€ components/       # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ AlarmBadge.vue     # æŠ¥è­¦å¾½ç« 
â”‚   â”‚   â”œâ”€â”€ DataCard.vue       # æ•°æ®å¡ç‰‡
â”‚   â”‚   â”œâ”€â”€ DeviceSwitch.vue   # è®¾å¤‡å¼€å…³
â”‚   â”‚   â”œâ”€â”€ Layout.vue         # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â””â”€â”€ NodeStatus.vue     # èŠ‚ç‚¹çŠ¶æ€
â”‚   â”œâ”€â”€ router/           # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts      # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ stores/           # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ counter.ts    # ç¤ºä¾‹store
â”‚   â”œâ”€â”€ types/            # TypeScriptç±»å‹å®šä¹‰
â”‚   â”‚   â””â”€â”€ index.ts      # é€šç”¨ç±»å‹
â”‚   â”œâ”€â”€ utils/            # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ http.ts       # HTTPå°è£…
â”‚   â”œâ”€â”€ views/            # é¡µé¢è§†å›¾
â”‚   â”‚   â”œâ”€â”€ DashboardView.vue  # æ•°æ®ç›‘æ§
â”‚   â”‚   â”œâ”€â”€ NodesView.vue      # èŠ‚ç‚¹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ AlarmsView.vue     # æŠ¥è­¦ä¿¡æ¯
â”‚   â”‚   â”œâ”€â”€ DevicesView.vue    # è®¾å¤‡æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ HistoryView.vue    # å†å²è®°å½•
â”‚   â”‚   â””â”€â”€ SettingsView.vue   # ç³»ç»Ÿé…ç½®
â”‚   â”œâ”€â”€ App.vue           # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts           # åº”ç”¨å…¥å£
â”œâ”€â”€ index.html            # HTMLæ¨¡æ¿
â”œâ”€â”€ vite.config.ts        # Viteé…ç½®
â”œâ”€â”€ tsconfig.json         # TypeScripté…ç½®
â””â”€â”€ package.json          # ä¾èµ–ç®¡ç†
```

---

## ğŸ“„ é¡µé¢åŠŸèƒ½è¯¦è§£

### 1. æ•°æ®ç›‘æ§é¡µé¢ (DashboardView.vue)

**è·¯ç”±è·¯å¾„**: `/dashboard`

#### 1.1 ç»Ÿè®¡å¡ç‰‡åŒºåŸŸ

**ç¬¬ä¸€è¡Œç»Ÿè®¡å¡ç‰‡**:
- **å¹³å‡æ¸©åº¦**: æ˜¾ç¤ºæ‰€æœ‰èŠ‚ç‚¹æ¸©åº¦å‡å€¼(â„ƒ),é™„å¸¦è¶‹åŠ¿ç®­å¤´
- **å¹³å‡æ¹¿åº¦**: æ˜¾ç¤ºæ‰€æœ‰èŠ‚ç‚¹æ¹¿åº¦å‡å€¼(%),é™„å¸¦è¶‹åŠ¿æŒ‡ç¤º
- **æ°¨æ°”æµ“åº¦**: æ˜¾ç¤ºæ°¨æ°”æµ“åº¦å‡å€¼(ppm),è¶…æ ‡é«˜äº®
- **ç¡«åŒ–æ°¢æµ“åº¦**: æ˜¾ç¤ºç¡«åŒ–æ°¢æµ“åº¦å‡å€¼(ppm),è¶…æ ‡è­¦å‘Š

**ç¬¬äºŒè¡ŒæŒ‡æ ‡å¡ç‰‡**:
- **å¹³å‡äº§å¥¶é‡**: æ˜¾ç¤ºé¢„æµ‹äº§å¥¶é‡å‡å€¼(kg/å¤©),åæ˜ ç¯å¢ƒå¯¹äº§å¥¶çš„å½±å“
- **å¹³å‡THIæŒ‡æ•°**: æ¸©æ¹¿åº¦æŒ‡æ•°,è¯„ä¼°çƒ­åº”æ¿€ç¨‹åº¦ â­**å¯ç‚¹å‡»æŸ¥çœ‹å…¬å¼**
- **å¹³å‡AQIæŒ‡æ•°**: ç©ºæ°”è´¨é‡æŒ‡æ•°,è¯„ä¼°æ°”ä½“æ±¡æŸ“ç¨‹åº¦ â­**å¯ç‚¹å‡»æŸ¥çœ‹å…¬å¼**
- **ç¯å¢ƒç»¼åˆè¯„åˆ†**: 0-100åˆ†ç»¼åˆè¯„ä»·ç¯å¢ƒè´¨é‡ â­**å¯ç‚¹å‡»æŸ¥çœ‹å…¬å¼**

#### 1.2 æŒ‡æ ‡å…¬å¼è¯´æ˜å¯¹è¯æ¡† ğŸ†•

ç‚¹å‡»THIã€AQIã€ç¯å¢ƒè¯„åˆ†å¡ç‰‡åå¼¹å‡ºå¯¹è¯æ¡†,å±•ç¤º:

**THIæŒ‡æ•°(Temperature-Humidity Index)**:
- **è®¡ç®—å…¬å¼**: `THI = (1.8 Ã— T + 32) - [(0.55 - 0.0055 Ã— RH) Ã— (1.8 Ã— T - 26)]`
- **å‚æ•°è¯´æ˜**: 
  - T: ç¯å¢ƒæ¸©åº¦(â„ƒ)
  - RH: ç›¸å¯¹æ¹¿åº¦(%)
- **è¯„ä¼°æ ‡å‡†**:
  - æ— åº”æ¿€: THI < 68 (ç»¿è‰²)
  - è½»åº¦åº”æ¿€: 68 â‰¤ THI < 72 (è“è‰²)
  - ä¸­åº¦åº”æ¿€: 72 â‰¤ THI < 79 (æ©™è‰²)
  - é‡åº¦åº”æ¿€: THI â‰¥ 79 (çº¢è‰²)
- **åº”ç”¨ç†ç”±**: çƒ­åº”æ¿€å¯¼è‡´é‡‡é£Ÿé‡ä¸‹é™ã€äº§å¥¶é‡å‡å°‘ã€‚THIè¶…è¿‡72æ—¶,äº§å¥¶é‡å¯ä¸‹é™10-20%ã€‚

**AQIæŒ‡æ•°(Air Quality Index)**:
- **è®¡ç®—å…¬å¼**: `AQI = 0.6 Ã— (NHâ‚ƒ/50) + 0.4 Ã— (Hâ‚‚S/20)`
- **å‚æ•°è¯´æ˜**:
  - NHâ‚ƒ: æ°¨æ°”æµ“åº¦(ppm),æƒé‡60%
  - Hâ‚‚S: ç¡«åŒ–æ°¢æµ“åº¦(ppm),æƒé‡40%
- **è¯„ä¼°æ ‡å‡†**:
  - ä¼˜ç§€: AQI < 0.3
  - è‰¯å¥½: 0.3 â‰¤ AQI < 0.6
  - ä¸­ç­‰: 0.6 â‰¤ AQI < 1.0
  - è¾ƒå·®: AQI â‰¥ 1.0
- **åº”ç”¨ç†ç”±**: é«˜æµ“åº¦æ°¨æ°”(>25ppm)å¯¼è‡´å‘¼å¸é“ç–¾ç—…ã€äº§å¥¶é‡ä¸‹é™5-15%ã€‚ç¡«åŒ–æ°¢(>10ppm)å…·æœ‰å¼ºçƒˆæ¯’æ€§ã€‚

**ç¯å¢ƒç»¼åˆè¯„åˆ†**:
- **è®¡ç®—å…¬å¼**: `è¯„åˆ† = THIè¯„åˆ† Ã— 0.6 + AQIè¯„åˆ† Ã— 0.4`
- **è¯„åˆ†è§„åˆ™**:
  - THIè¯„åˆ†: THI<68(100åˆ†), 68-72(85åˆ†), 72-79(70åˆ†), â‰¥79(50åˆ†)
  - AQIè¯„åˆ†: AQI<0.3(100åˆ†), 0.3-0.6(80åˆ†), â‰¥0.6(60åˆ†)
- **è¯„ä¼°æ ‡å‡†**:
  - ä¼˜ç§€: â‰¥85åˆ†
  - è‰¯å¥½: 70-85åˆ†
  - ä¸€èˆ¬: 60-70åˆ†
  - è¾ƒå·®: <60åˆ†
- **åº”ç”¨ç†ç”±**: ç»¼åˆè¯„åˆ†ä¸äº§å¥¶é‡å‘ˆæ­£ç›¸å…³,è¯„åˆ†ä½äº70éœ€é‡‡å–å¹²é¢„æªæ–½ã€‚

#### 1.3 èŠ‚ç‚¹å’Œè®¾å¤‡çŠ¶æ€

**èŠ‚ç‚¹çŠ¶æ€å¡ç‰‡**:
- æ€»èŠ‚ç‚¹æ•°
- åœ¨çº¿èŠ‚ç‚¹æ•°(ç»¿è‰²é«˜äº®)
- ç¦»çº¿èŠ‚ç‚¹æ•°(çº¢è‰²æ ‡æ³¨)

**è®¾å¤‡çŠ¶æ€å¡ç‰‡**:
- æ€»è®¾å¤‡æ•°
- è¿è¡Œä¸­è®¾å¤‡(ç»¿è‰²)
- å·²åœæ­¢è®¾å¤‡(ç°è‰²)

#### 1.4 è¶‹åŠ¿å›¾è¡¨åŒºåŸŸ

**æ¸©æ¹¿åº¦è¶‹åŠ¿å›¾** (å·¦ä¸Š):
- åŒYè½´æŠ˜çº¿å›¾
- å·¦è½´: æ¸©åº¦ã€æ¹¿åº¦
- æ—¶é—´è½´: æœ€è¿‘24å°æ—¶
- æ•°æ®ç‚¹: å¹³æ»‘æ›²çº¿è¿æ¥
- å›¾ä¾‹: å¯ç‚¹å‡»æ˜¾éš
- Tooltip: æ‚¬åœæ˜¾ç¤ºè¯¦ç»†æ•°å€¼
- **æ™ºèƒ½æ•°æ®æŸ¥è¯¢**: è‡ªåŠ¨éå†NODE_001/002/003,ä½¿ç”¨ç¬¬ä¸€ä¸ªæœ‰æ•°æ®çš„èŠ‚ç‚¹

**æ°”ä½“æµ“åº¦è¶‹åŠ¿å›¾** (å³ä¸Š):
- åŒYè½´æŠ˜çº¿å›¾
- æ˜¾ç¤ºæ°¨æ°”ã€ç¡«åŒ–æ°¢æµ“åº¦å˜åŒ–
- è¶…æ ‡åŒºåŸŸèƒŒæ™¯è‰²æ ‡æ³¨
- **æ™ºèƒ½æ•°æ®æŸ¥è¯¢**: è‡ªåŠ¨é€‰æ‹©æœ‰æ•°æ®çš„èŠ‚ç‚¹

**äº§å¥¶é‡è¶‹åŠ¿å›¾** (å·¦ä¸‹):
- é¢ç§¯å›¾(æ¸å˜ç»¿è‰²)
- å±•ç¤ºé¢„æµ‹äº§å¥¶é‡å˜åŒ–è¶‹åŠ¿
- åŸºäºç¯å¢ƒå‚æ•°è®¡ç®—äº§å¥¶é‡
- æ˜¾ç¤ºäº§å¥¶é‡æŸå¤±ç‡
- **æ™ºèƒ½æ•°æ®æŸ¥è¯¢**: è‡ªåŠ¨é€‰æ‹©æœ‰æ•°æ®çš„èŠ‚ç‚¹

**ç¯å¢ƒè¯„åˆ†ä»ªè¡¨ç›˜** (å³ä¸‹):
- ä»ªè¡¨ç›˜å›¾è¡¨(0-100åˆ†)
- å½©è‰²åˆ†æ®µ: ç»¿(85+)ã€è“(70-85)ã€æ©™(60-70)ã€çº¢(<60)
- åŠ¨æ€æŒ‡é’ˆæŒ‡ç¤º
- å®æ—¶æ›´æ–°

#### 1.5 æŠ¥è­¦ä¿¡æ¯åˆ—è¡¨

- **è¡¨æ ¼å±•ç¤º**:
  - æŠ¥è­¦æ—¶é—´
  - èŠ‚ç‚¹ID
  - æŠ¥è­¦ç±»å‹(æ¸©åº¦/æ¹¿åº¦/æ°¨æ°”/ç¡«åŒ–æ°¢)
  - æŠ¥è­¦çº§åˆ«(ä½/ä¸­/é«˜/ç´§æ€¥)
  - æŠ¥è­¦å†…å®¹
  - å¤„ç†çŠ¶æ€
- **æ“ä½œåŠŸèƒ½**:
  - æŸ¥çœ‹è¯¦æƒ…
  - å¤„ç†æŠ¥è­¦
  - æ‰¹é‡å¤„ç†
- **é¡¶éƒ¨ç»Ÿè®¡**:
  - æœªå¤„ç†æŠ¥è­¦æ•°é‡(çº¢è‰²å¾½ç« )

#### 1.6 æ•°æ®è‡ªåŠ¨åˆ·æ–°

- é»˜è®¤æ¯30ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡
- é¡µé¢é”€æ¯æ—¶æ¸…é™¤å®šæ—¶å™¨
- æ”¯æŒæ‰‹åŠ¨åˆ·æ–°

---

### 2. èŠ‚ç‚¹ç®¡ç†é¡µé¢ (NodesView.vue)

**è·¯ç”±è·¯å¾„**: `/nodes`

#### 2.1 ç½‘ç»œæ‹“æ‰‘å¯è§†åŒ–

**EChartsæ‹“æ‰‘å›¾**:
- **åè°ƒå™¨èŠ‚ç‚¹**:
  - åœ†å½¢å›¾æ ‡,å°ºå¯¸150px
  - ä½ç½®: ç”»å¸ƒä¸­å¿ƒ
  - æ ‡ç­¾: ç™½è‰²èƒŒæ™¯ã€é»‘è‰²è¾¹æ¡†
  - å­—ä½“: 16pxåŠ ç²—
  - å›ºå®šä¸å¯æ‹–åŠ¨
  
- **ä¼ æ„Ÿå™¨èŠ‚ç‚¹**:
  - åœ†å½¢å›¾æ ‡,åŸºç¡€å°ºå¯¸80px
  - æ ¹æ®ä¿¡å·å¼ºåº¦åŠ¨æ€è°ƒæ•´å¤§å°(Ã—0.6~1.2å€)
  - é¢œè‰²ç¼–ç :
    - ç»¿è‰²: åœ¨çº¿èŠ‚ç‚¹
    - çº¢è‰²: ç¦»çº¿èŠ‚ç‚¹
    - æ©™è‰²: ä¿¡å·å¼±èŠ‚ç‚¹
  - æ ‡ç­¾: åŠé€æ˜ç™½è‰²èƒŒæ™¯
  - æ”¯æŒæ‹–æ‹½ç§»åŠ¨
  
- **è¿æ¥çº¿**:
  - å®çº¿: åœ¨çº¿è¿æ¥
  - è™šçº¿: ç¦»çº¿è¿æ¥
  - ç®­å¤´æŒ‡å‘åè°ƒå™¨
  - çº¿å®½éšä¿¡å·å¼ºåº¦å˜åŒ–

- **äº¤äº’åŠŸèƒ½**:
  - é¼ æ ‡æ‚¬åœæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
  - æ‹–æ‹½èŠ‚ç‚¹æ”¹å˜å¸ƒå±€
  - ç‚¹å‡»èŠ‚ç‚¹æŸ¥çœ‹è¯¦æƒ…
  - ç¼©æ”¾å’Œå¹³ç§»ç”»å¸ƒ

**æ ‡é¢˜**: 
- ä½ç½®: å·¦ä¸Šè§’(left: 20px, top: 15px)
- æ ·å¼: ç™½è‰²åŠé€æ˜èƒŒæ™¯ã€é˜´å½±æ•ˆæœ

#### 2.2 èŠ‚ç‚¹åˆ—è¡¨è¡¨æ ¼

**è¡¨æ ¼åˆ—**:
- èŠ‚ç‚¹ID
- èŠ‚ç‚¹åç§°
- ä½ç½®
- çŠ¶æ€(åœ¨çº¿/ç¦»çº¿,å¾½ç« æ˜¾ç¤º)
- ç”µæ± ç”µé‡(ç™¾åˆ†æ¯”,è¿›åº¦æ¡)
- ä¿¡å·å¼ºåº¦(ç™¾åˆ†æ¯”,é¢œè‰²ç¼–ç )
- æœ€åé€šä¿¡æ—¶é—´
- æ“ä½œæŒ‰é’®

**æ“ä½œåŠŸèƒ½**:
- **æŸ¥çœ‹**: æŸ¥çœ‹èŠ‚ç‚¹è¯¦ç»†ä¿¡æ¯
- **ç¼–è¾‘**: ä¿®æ”¹èŠ‚ç‚¹é…ç½®
- **åˆ é™¤**: åˆ é™¤èŠ‚ç‚¹(éœ€ç¡®è®¤)
- **æ·»åŠ **: æ–°å¢èŠ‚ç‚¹(å¯¹è¯æ¡†)

#### 2.3 èŠ‚ç‚¹è¯¦æƒ…å¯¹è¯æ¡†

- èŠ‚ç‚¹åŸºæœ¬ä¿¡æ¯
- å®‰è£…æ—¥æœŸ
- æœ€ååœ¨çº¿æ—¶é—´
- å¤‡æ³¨ä¿¡æ¯
- å®æ—¶ä¼ æ„Ÿå™¨æ•°æ®
- å†å²æ•°æ®å¿«æ·æŸ¥è¯¢

#### 2.4 èŠ‚ç‚¹æœç´¢å’Œç­›é€‰

- æŒ‰èŠ‚ç‚¹IDæœç´¢
- æŒ‰çŠ¶æ€ç­›é€‰(å…¨éƒ¨/åœ¨çº¿/ç¦»çº¿)
- æŒ‰ä½ç½®ç­›é€‰
- æ”¯æŒåˆ†é¡µ

---

### 3. æŠ¥è­¦ä¿¡æ¯é¡µé¢ (AlarmsView.vue)

**è·¯ç”±è·¯å¾„**: `/alarms`

#### 3.1 æŠ¥è­¦ç»Ÿè®¡å¡ç‰‡

- **æ€»æŠ¥è­¦æ•°**: æ—¶é—´èŒƒå›´å†…æ‰€æœ‰æŠ¥è­¦
- **æœªå¤„ç†æŠ¥è­¦**: çº¢è‰²é«˜äº®æ˜¾ç¤º
- **å·²å¤„ç†æŠ¥è­¦**: ç»¿è‰²æ˜¾ç¤º
- **å¹³å‡å“åº”æ—¶é—´**: ä»æŠ¥è­¦åˆ°å¤„ç†çš„å¹³å‡æ—¶é•¿

#### 3.2 æŠ¥è­¦ç­›é€‰åŒºåŸŸ

**ç­›é€‰æ¡ä»¶**:
- èŠ‚ç‚¹ID: ä¸‹æ‹‰é€‰æ‹©
- æŠ¥è­¦ç±»å‹: æ¸©åº¦/æ¹¿åº¦/æ°¨æ°”/ç¡«åŒ–æ°¢
- æŠ¥è­¦çº§åˆ«: ä½/ä¸­/é«˜/ç´§æ€¥
- å¤„ç†çŠ¶æ€: æœªå¤„ç†/å·²å¤„ç†/å…¨éƒ¨
- æ—¶é—´èŒƒå›´: æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨

**æ“ä½œæŒ‰é’®**:
- æŸ¥è¯¢: åº”ç”¨ç­›é€‰æ¡ä»¶
- é‡ç½®: æ¸…é™¤æ‰€æœ‰ç­›é€‰
- å¯¼å‡º: å¯¼å‡ºæŠ¥è­¦è®°å½•(Excel)

#### 3.3 æŠ¥è­¦åˆ—è¡¨è¡¨æ ¼

**è¡¨æ ¼åˆ—**:
- æŠ¥è­¦æ—¶é—´: ç²¾ç¡®åˆ°ç§’
- èŠ‚ç‚¹ID: æ ‡ç­¾æ˜¾ç¤º
- æŠ¥è­¦ç±»å‹: å›¾æ ‡+æ–‡å­—
- æŠ¥è­¦çº§åˆ«: å½©è‰²å¾½ç« (ä½/ä¸­/é«˜/ç´§æ€¥)
- å½“å‰å€¼: è§¦å‘æŠ¥è­¦çš„æ•°å€¼
- é˜ˆå€¼: é…ç½®çš„æŠ¥è­¦é˜ˆå€¼
- æŠ¥è­¦å†…å®¹: è‡ªåŠ¨ç”Ÿæˆæè¿°
- å¤„ç†çŠ¶æ€: æœªå¤„ç†(æ©™è‰²)/å·²å¤„ç†(ç»¿è‰²)
- å¤„ç†æ—¶é—´: å¤„ç†æ—¶åˆ»
- å¤„ç†å¤‡æ³¨: å¤„ç†è¯´æ˜
- æ“ä½œ: å¤„ç†/æŸ¥çœ‹è¯¦æƒ…

**æŠ¥è­¦çº§åˆ«å®šä¹‰**:
- ğŸŸ¢ **ä½**: è½»å¾®åç¦»æ­£å¸¸èŒƒå›´
- ğŸ”µ **ä¸­**: æ˜æ˜¾åç¦»,éœ€å…³æ³¨
- ğŸŸ¡ **é«˜**: ä¸¥é‡åç¦»,éœ€ç«‹å³å¤„ç†
- ğŸ”´ **ç´§æ€¥**: æåº¦å±é™©,ç´§æ€¥å¹²é¢„

#### 3.4 æŠ¥è­¦å¤„ç†åŠŸèƒ½

**å•ä¸ªå¤„ç†**:
1. ç‚¹å‡»"å¤„ç†"æŒ‰é’®
2. å¼¹å‡ºå¤„ç†å¯¹è¯æ¡†
3. é€‰æ‹©å¤„ç†çŠ¶æ€(å·²å¤„ç†/è¯¯æŠ¥/æ— éœ€å¤„ç†)
4. å¡«å†™å¤„ç†å¤‡æ³¨(å¿…å¡«)
5. æäº¤ä¿å­˜

**æ‰¹é‡å¤„ç†**:
1. å‹¾é€‰å¤šæ¡æŠ¥è­¦è®°å½•
2. ç‚¹å‡»"æ‰¹é‡å¤„ç†"
3. ç»Ÿä¸€å¡«å†™å¤„ç†ä¿¡æ¯
4. ç¡®è®¤æ‰¹é‡æ“ä½œ

#### 3.5 æŠ¥è­¦è¯¦æƒ…å¯¹è¯æ¡†

- å®Œæ•´æŠ¥è­¦ä¿¡æ¯
- èŠ‚ç‚¹ç¯å¢ƒæ•°æ®å¿«ç…§
- å†å²æŠ¥è­¦è¶‹åŠ¿å›¾
- å¤„ç†å†å²è®°å½•
- ç›¸å…³æŠ¥è­¦æ¨è

#### 3.6 æŠ¥è­¦ç»Ÿè®¡å›¾è¡¨

**æŠ¥è­¦è¶‹åŠ¿å›¾**:
- æ—¶é—´è½´æŠ˜çº¿å›¾
- æŒ‰æ—¥/å‘¨/æœˆç»Ÿè®¡
- åˆ†ç±»å‹æ˜¾ç¤º

**æŠ¥è­¦åˆ†å¸ƒé¥¼å›¾**:
- æŒ‰ç±»å‹åˆ†å¸ƒ
- æŒ‰çº§åˆ«åˆ†å¸ƒ
- æŒ‰èŠ‚ç‚¹åˆ†å¸ƒ

---

### 4. è®¾å¤‡æ§åˆ¶é¡µé¢ (DevicesView.vue)

**è·¯ç”±è·¯å¾„**: `/devices`

#### 4.1 è®¾å¤‡åˆ—è¡¨å¡ç‰‡

**è®¾å¤‡ç±»å‹**:
- ğŸŒ€ **é£æ‰‡(FAN)**: é€šé£é™æ¸©
- ğŸªŸ **çª—å¸˜(CURTAIN)**: é®é˜³ä¿æ¸©
- ğŸ”¥ **åŠ çƒ­å™¨(HEATING)**: å†¬å­£ä¿æš–
- ğŸ’§ **å–·æ·‹ç³»ç»Ÿ(SPRAY)**: é™æ¸©å¢æ¹¿

**æ¯ä¸ªè®¾å¤‡å¡ç‰‡åŒ…å«**:
- è®¾å¤‡åç§°å’ŒID
- è®¾å¤‡ç±»å‹å›¾æ ‡
- è¿è¡ŒçŠ¶æ€æŒ‡ç¤ºç¯(ç»¿/çº¢)
- æ§åˆ¶æ¨¡å¼åˆ‡æ¢(è‡ªåŠ¨/æ‰‹åŠ¨)
- å¼€å…³æŒ‰é’®
- æœ€åæ§åˆ¶æ—¶é—´
- æ§åˆ¶æ—¥å¿—å…¥å£

#### 4.2 è®¾å¤‡æ§åˆ¶åŠŸèƒ½

**æ‰‹åŠ¨æ§åˆ¶**:
1. åˆ‡æ¢åˆ°æ‰‹åŠ¨æ¨¡å¼
2. ç‚¹å‡»å¯åŠ¨/åœæ­¢æŒ‰é’®
3. ç¡®è®¤æ§åˆ¶æ“ä½œ
4. å®æ—¶æ›´æ–°çŠ¶æ€
5. è®°å½•æ§åˆ¶æ—¥å¿—

**è‡ªåŠ¨æ§åˆ¶**:
1. åˆ‡æ¢åˆ°è‡ªåŠ¨æ¨¡å¼
2. ç³»ç»Ÿæ ¹æ®ç¯å¢ƒæ•°æ®è‡ªåŠ¨å†³ç­–
3. è§„åˆ™å¼•æ“è§¦å‘æ§åˆ¶
4. åå°è‡ªåŠ¨æ‰§è¡Œ
5. å‰ç«¯æ˜¾ç¤ºè‡ªåŠ¨æ§åˆ¶æ ‡è¯†

#### 4.3 æ§åˆ¶æ¨¡å¼è¯´æ˜

**æ‰‹åŠ¨æ¨¡å¼(0)**:
- ç”±ç”¨æˆ·æ‰‹åŠ¨æ“ä½œå¼€å…³
- ä¸å—è‡ªåŠ¨è§„åˆ™å½±å“
- é€‚ç”¨äºç‰¹æ®Šæƒ…å†µå¹²é¢„

**è‡ªåŠ¨æ¨¡å¼(1)**:
- æ ¹æ®é¢„è®¾è§„åˆ™è‡ªåŠ¨æ§åˆ¶
- æ¸©åº¦è¿‡é«˜è‡ªåŠ¨å¼€é£æ‰‡
- æ¹¿åº¦è¿‡å¤§è‡ªåŠ¨å¼€çª—å¸˜
- æ°¨æ°”è¶…æ ‡è‡ªåŠ¨å¼€å–·æ·‹

#### 4.4 è®¾å¤‡æ§åˆ¶æ—¥å¿—

**æ—¥å¿—è¡¨æ ¼åˆ—**:
- æ§åˆ¶æ—¶é—´
- è®¾å¤‡ID
- æ§åˆ¶åŠ¨ä½œ(å¯åŠ¨/åœæ­¢/è°ƒèŠ‚)
- æ§åˆ¶æ¨¡å¼(æ‰‹åŠ¨/è‡ªåŠ¨)
- æ“ä½œäººå‘˜
- æ§åˆ¶åŸå› 
- æ‰§è¡Œç»“æœ

**æ—¥å¿—ç­›é€‰**:
- æŒ‰è®¾å¤‡ç­›é€‰
- æŒ‰æ§åˆ¶ç±»å‹ç­›é€‰
- æŒ‰æ—¶é—´èŒƒå›´ç­›é€‰
- æ”¯æŒå¯¼å‡º

#### 4.5 è®¾å¤‡ç»Ÿè®¡

- æ€»è®¾å¤‡æ•°
- è¿è¡Œä¸­è®¾å¤‡æ•°
- è‡ªåŠ¨æ¨¡å¼è®¾å¤‡æ•°
- æ‰‹åŠ¨æ¨¡å¼è®¾å¤‡æ•°
- ä»Šæ—¥æ§åˆ¶æ¬¡æ•°

---

### 5. å†å²è®°å½•é¡µé¢ (HistoryView.vue)

**è·¯ç”±è·¯å¾„**: `/history`

#### 5.1 æŸ¥è¯¢æ¡ä»¶åŒºåŸŸ

**ç­›é€‰é¡¹**:
- **èŠ‚ç‚¹é€‰æ‹©**: ä¸‹æ‹‰é€‰æ‹©å•ä¸ªèŠ‚ç‚¹æˆ–å…¨éƒ¨
- **æ—¶é—´èŒƒå›´**: æ—¥æœŸæ—¶é—´èŒƒå›´é€‰æ‹©å™¨
  - å¿«æ·é€‰é¡¹: æœ€è¿‘1å°æ—¶/ä»Šå¤©/æœ€è¿‘7å¤©/æœ€è¿‘30å¤©
  - è‡ªå®šä¹‰: å¼€å§‹æ—¶é—´-ç»“æŸæ—¶é—´
- **æŸ¥è¯¢æŒ‰é’®**: åº”ç”¨ç­›é€‰æ¡ä»¶
- **é‡ç½®æŒ‰é’®**: æ¸…é™¤ç­›é€‰æ¢å¤é»˜è®¤

#### 5.2 å†å²æ•°æ®è¡¨æ ¼

**è¡¨æ ¼åˆ—**:
- é‡‡é›†æ—¶é—´: YYYY-MM-DD HH:mm:ssæ ¼å¼
- èŠ‚ç‚¹ID: æ ‡ç­¾æ˜¾ç¤º
- æ¸©åº¦(â„ƒ): é¢œè‰²ç¼–ç (ç»¿/æ©™/çº¢)
- æ¹¿åº¦(%): é¢œè‰²ç¼–ç 
- æ°¨æ°”(ppm): é¢œè‰²ç¼–ç 
- ç¡«åŒ–æ°¢(ppm): é¢œè‰²ç¼–ç 
- äº§å¥¶é‡(kg): ç»¿è‰²æ ‡ç­¾æ˜¾ç¤º ğŸ†•
- THIæŒ‡æ•°: å½©è‰²æ ‡ç­¾(ä¼˜/è‰¯/ä¸­/å·®) ğŸ†•
- AQIæŒ‡æ•°: å½©è‰²æ ‡ç­¾ ğŸ†•
- ç¯å¢ƒè¯„åˆ†: è¿›åº¦æ¡æ˜¾ç¤º(0-100åˆ†) ğŸ†•
- æ“ä½œ: æŸ¥çœ‹è¶‹åŠ¿

**é¢œè‰²ç¼–ç è§„åˆ™**:
- æ¸©åº¦: <5æˆ–>35(çº¢), 5-10æˆ–30-35(æ©™), 10-30(ç»¿)
- æ¹¿åº¦: <30æˆ–>85(çº¢), 30-40æˆ–75-85(æ©™), 40-75(ç»¿)
- æ°¨æ°”: >40(çº¢), 25-40(æ©™), <25(ç»¿)
- ç¡«åŒ–æ°¢: >20(çº¢), 10-20(æ©™), <10(ç»¿)

#### 5.3 æ•°æ®è¶‹åŠ¿å¯¹è¯æ¡†

ç‚¹å‡»"æŸ¥çœ‹è¶‹åŠ¿"æŒ‰é’®åå¼¹å‡º:

**è¶‹åŠ¿å›¾**:
- æ ‡é¢˜: `{èŠ‚ç‚¹ID} æ•°æ®è¶‹åŠ¿ (å…±Xæ¡)`
- å›¾è¡¨ç±»å‹: å¤šç³»åˆ—æŠ˜çº¿å›¾
- æ—¶é—´è½´: æŒ‰HH:mmæ ¼å¼æ˜¾ç¤º
- æ•°æ®ç³»åˆ—:
  - æ¸©åº¦(çº¢è‰²æ›²çº¿)
  - æ¹¿åº¦(è“è‰²æ›²çº¿)
  - æ°¨æ°”(æ©™è‰²æ›²çº¿)
  - ç¡«åŒ–æ°¢(ç°è‰²æ›²çº¿)
  - äº§å¥¶é‡(ç»¿è‰²åŠ ç²—æ›²çº¿) ğŸ†•

**å›¾è¡¨ç‰¹æ€§**:
- åŒYè½´: å·¦ä¾§(æ¸©æ¹¿åº¦/äº§å¥¶é‡)ã€å³ä¾§(æ°”ä½“æµ“åº¦)
- å¹³æ»‘æ›²çº¿è¿æ¥
- å›¾ä¾‹å¯ç‚¹å‡»æ˜¾éš
- Tooltipæ‚¬åœæç¤º
- æ”¯æŒç¼©æ”¾å’Œå¹³ç§»

**æ•°æ®æŸ¥è¯¢ç­–ç•¥** ğŸ†•:
- ä¼˜å…ˆæŸ¥è¯¢æœ€è¿‘24å°æ—¶æ•°æ®
- å¦‚æœæ²¡æ•°æ®,è‡ªåŠ¨é™çº§æŸ¥è¯¢æ‰€æœ‰å†å²æ•°æ®
- ç¡®ä¿ç”¨æˆ·å§‹ç»ˆèƒ½çœ‹åˆ°è¶‹åŠ¿å›¾
- æ§åˆ¶å°è¾“å‡ºè¯¦ç»†è°ƒè¯•æ—¥å¿—

#### 5.4 åˆ†é¡µåŠŸèƒ½

- æ¯é¡µæ˜¾ç¤º10/20/50/100æ¡å¯é€‰
- é¡µç è·³è½¬
- æ€»è®°å½•æ•°æ˜¾ç¤º
- ä¸Šä¸€é¡µ/ä¸‹ä¸€é¡µ

#### 5.5 æ•°æ®å¯¼å‡º

- å¯¼å‡ºå½“å‰é¡µ
- å¯¼å‡ºç­›é€‰ç»“æœ
- å¯¼å‡ºå…¨éƒ¨æ•°æ®
- æ ¼å¼: Excel(.xlsx)

---

### 6. ç³»ç»Ÿé…ç½®é¡µé¢ (SettingsView.vue)

**è·¯ç”±è·¯å¾„**: `/settings`

#### 6.1 æŠ¥è­¦é˜ˆå€¼é…ç½®

**æ¸©åº¦é˜ˆå€¼**:
- æœ€ä½æ¸©åº¦(â„ƒ)
- æœ€é«˜æ¸©åº¦(â„ƒ)
- æŠ¥è­¦çº§åˆ«: ä½/ä¸­/é«˜

**æ¹¿åº¦é˜ˆå€¼**:
- æœ€ä½æ¹¿åº¦(%)
- æœ€é«˜æ¹¿åº¦(%)
- æŠ¥è­¦çº§åˆ«

**æ°¨æ°”é˜ˆå€¼**:
- å®‰å…¨ä¸Šé™(ppm)
- å±é™©ä¸Šé™(ppm)
- æŠ¥è­¦çº§åˆ«

**ç¡«åŒ–æ°¢é˜ˆå€¼**:
- å®‰å…¨ä¸Šé™(ppm)
- å±é™©ä¸Šé™(ppm)
- æŠ¥è­¦çº§åˆ«

#### 6.2 è‡ªåŠ¨æ§åˆ¶è§„åˆ™

**é£æ‰‡æ§åˆ¶è§„åˆ™**:
- è§¦å‘æ¡ä»¶: æ¸©åº¦ > Xâ„ƒ æˆ– THI > Y
- æ‰§è¡ŒåŠ¨ä½œ: å¯åŠ¨é£æ‰‡
- æ¢å¤æ¡ä»¶: æ¸©åº¦ < Xâ„ƒ ä¸” THI < Y
- å»¶è¿Ÿæ—¶é—´: é¿å…é¢‘ç¹å¼€å…³

**çª—å¸˜æ§åˆ¶è§„åˆ™**:
- è§¦å‘æ¡ä»¶: æ¸©åº¦ > Xâ„ƒ æˆ– å…‰ç…§å¼ºåº¦ > Y
- æ‰§è¡ŒåŠ¨ä½œ: å…³é—­çª—å¸˜
- æ¢å¤æ¡ä»¶: æ¸©åº¦æ­£å¸¸

**åŠ çƒ­å™¨æ§åˆ¶è§„åˆ™**:
- è§¦å‘æ¡ä»¶: æ¸©åº¦ < Xâ„ƒ
- æ‰§è¡ŒåŠ¨ä½œ: å¯åŠ¨åŠ çƒ­å™¨
- æ¢å¤æ¡ä»¶: æ¸©åº¦ > Xâ„ƒ

**å–·æ·‹æ§åˆ¶è§„åˆ™**:
- è§¦å‘æ¡ä»¶: æ°¨æ°” > X ppm æˆ– æ¹¿åº¦ < Y%
- æ‰§è¡ŒåŠ¨ä½œ: å¯åŠ¨å–·æ·‹
- æ¢å¤æ¡ä»¶: æ°¨æ°”æ­£å¸¸

#### 6.3 ç³»ç»Ÿå‚æ•°é…ç½®

**æ•°æ®åˆ·æ–°é—´éš”**:
- å‰ç«¯è‡ªåŠ¨åˆ·æ–°é—´éš”(ç§’)
- å›¾è¡¨æ›´æ–°é—´éš”(ç§’)
- é»˜è®¤å€¼: 30ç§’

**æ•°æ®ä¿ç•™ç­–ç•¥**:
- ä¼ æ„Ÿå™¨æ•°æ®ä¿ç•™å¤©æ•°
- æŠ¥è­¦è®°å½•ä¿ç•™å¤©æ•°
- æ§åˆ¶æ—¥å¿—ä¿ç•™å¤©æ•°
- é»˜è®¤å€¼: 90å¤©

**é€šçŸ¥è®¾ç½®**:
- æŠ¥è­¦å£°éŸ³å¼€å…³
- æ¡Œé¢é€šçŸ¥å¼€å…³
- æŠ¥è­¦å¼¹çª—å¼€å…³

#### 6.4 ç”¨æˆ·ç®¡ç†

- ç”¨æˆ·åˆ—è¡¨
- æ·»åŠ ç”¨æˆ·
- ä¿®æ”¹å¯†ç 
- æƒé™åˆ†é…
- è§’è‰²ç®¡ç†

#### 6.5 ç³»ç»Ÿä¿¡æ¯

- ç³»ç»Ÿç‰ˆæœ¬
- æ•°æ®åº“ä¿¡æ¯
- æœåŠ¡å™¨çŠ¶æ€
- è¿è¡Œæ—¶é—´
- å†…å­˜ä½¿ç”¨æƒ…å†µ

---

## ğŸ§© ç»„ä»¶åº“

### 1. DataCard.vue - æ•°æ®å¡ç‰‡ç»„ä»¶

**åŠŸèƒ½**: å±•ç¤ºå•ä¸ªç»Ÿè®¡æŒ‡æ ‡

**Props**:
- `title`: å¡ç‰‡æ ‡é¢˜
- `value`: æ•°å€¼
- `unit`: å•ä½
- `icon`: å›¾æ ‡ç»„ä»¶
- `iconColor`: å›¾æ ‡é¢œè‰²
- `trend`: è¶‹åŠ¿ç™¾åˆ†æ¯”(å¯é€‰)

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<DataCard
  title="å¹³å‡æ¸©åº¦"
  :value="stats.avgTemperature?.toFixed(1)"
  unit="â„ƒ"
  :icon="Sunny"
  icon-color="#f56c6c"
  :trend="2.5"
/>
```

**æ ·å¼ç‰¹æ€§**:
- å¡ç‰‡æ‚¬åœæ•ˆæœ
- å“åº”å¼å¸ƒå±€
- è¶‹åŠ¿ç®­å¤´åŠ¨ç”»

---

### 2. AlarmBadge.vue - æŠ¥è­¦å¾½ç« ç»„ä»¶

**åŠŸèƒ½**: æ˜¾ç¤ºæŠ¥è­¦çº§åˆ«

**Props**:
- `level`: æŠ¥è­¦çº§åˆ«(1-4)
- `size`: å°ºå¯¸(small/default/large)

**çº§åˆ«æ˜ å°„**:
- 1: ä½çº§(è“è‰²)
- 2: ä¸­çº§(æ©™è‰²)
- 3: é«˜çº§(çº¢è‰²)
- 4: ç´§æ€¥(æ·±çº¢è‰²)

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<AlarmBadge :level="row.alarmLevel" size="small" />
```

---

### 3. DeviceSwitch.vue - è®¾å¤‡å¼€å…³ç»„ä»¶

**åŠŸèƒ½**: æ§åˆ¶è®¾å¤‡å¼€å…³çŠ¶æ€

**Props**:
- `deviceId`: è®¾å¤‡ID
- `status`: å½“å‰çŠ¶æ€(0/1)
- `disabled`: æ˜¯å¦ç¦ç”¨

**Events**:
- `change`: çŠ¶æ€æ”¹å˜äº‹ä»¶

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<DeviceSwitch
  :deviceId="device.deviceId"
  :status="device.status"
  @change="handleDeviceChange"
/>
```

---

### 4. NodeStatus.vue - èŠ‚ç‚¹çŠ¶æ€ç»„ä»¶

**åŠŸèƒ½**: æ˜¾ç¤ºèŠ‚ç‚¹åœ¨çº¿çŠ¶æ€

**Props**:
- `status`: çŠ¶æ€(0-ç¦»çº¿/1-åœ¨çº¿)
- `showText`: æ˜¯å¦æ˜¾ç¤ºæ–‡å­—

**æ ·å¼**:
- åœ¨çº¿: ç»¿è‰²åœ†ç‚¹/å¾½ç« 
- ç¦»çº¿: çº¢è‰²åœ†ç‚¹/å¾½ç« 
- åŠ¨ç”»: åœ¨çº¿çŠ¶æ€å‘¼å¸ç¯æ•ˆæœ

---

### 5. Layout.vue - å¸ƒå±€ç»„ä»¶

**åŠŸèƒ½**: åº”ç”¨ä¸»å¸ƒå±€æ¡†æ¶

**ç»„æˆéƒ¨åˆ†**:
1. **é¡¶éƒ¨å¯¼èˆªæ (Header)**:
   - ç³»ç»Ÿæ ‡é¢˜
   - æŠ¥è­¦å¾½ç« 
   - ç”¨æˆ·ä¸‹æ‹‰èœå•

2. **ä¾§è¾¹æ (Aside)**:
   - å¯¼èˆªèœå•
   - æ”¶ç¼©/å±•å¼€æŒ‰é’®

3. **å†…å®¹åŒº(Main)**:
   - è·¯ç”±è§†å›¾å®¹å™¨
   - é¡µé¢åˆ‡æ¢åŠ¨ç”»

**ç‰¹æ€§**:
- å“åº”å¼è®¾è®¡
- æ·±è‰²ä¾§è¾¹æ 
- å¹³æ»‘è¿‡æ¸¡åŠ¨ç”»
- æ´»åŠ¨èœå•é«˜äº®

---

## ğŸ”Œ APIæ¥å£

### æ¥å£å°è£… (utils/http.ts)

**Axioså®ä¾‹é…ç½®**:
```typescript
const http = axios.create({
  baseURL: 'http://localhost:9090',
  timeout: 10000,
  headers: {
    'Content-Type': 'application/json'
  }
})
```

**è¯·æ±‚æ‹¦æˆªå™¨**:
- æ·»åŠ tokenè®¤è¯
- è®¾ç½®è¯·æ±‚ID
- è¯·æ±‚æ—¥å¿—è®°å½•

**å“åº”æ‹¦æˆªå™¨**:
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- æå–dataå­—æ®µ
- Tokenè¿‡æœŸå¤„ç†
- é”™è¯¯æ¶ˆæ¯æç¤º

---

### 1. ä¼ æ„Ÿå™¨æ•°æ®æ¥å£ (api/sensor.ts)

#### getLatestSensorData()
è·å–æ‰€æœ‰èŠ‚ç‚¹æœ€æ–°æ•°æ®
```typescript
GET /api/sensor/latest
è¿”å›: List<SensorData>
```

#### getHistorySensorData(params)
æŸ¥è¯¢å†å²æ•°æ®(åˆ†é¡µ)
```typescript
GET /api/sensor/history
å‚æ•°: {
  nodeId?: string
  startTime: string  // 'YYYY-MM-DD HH:mm:ss'
  endTime: string
  pageNum: number
  pageSize: number
}
è¿”å›: PageResult<SensorData>
```

#### getSensorStatistics(params)
è·å–ç»Ÿè®¡ä¿¡æ¯
```typescript
GET /api/sensor/statistics
å‚æ•°: {
  nodeId?: string
  startTime?: string
  endTime?: string
}
è¿”å›: {
  avgTemperature: number
  avgHumidity: number
  avgNh3: number
  avgH2s: number
  ...
}
```

---

### 2. èŠ‚ç‚¹ç®¡ç†æ¥å£ (api/node.ts)

#### getNodeList(page, size)
è·å–èŠ‚ç‚¹åˆ—è¡¨
```typescript
GET /api/node/list?pageNum=1&pageSize=10
è¿”å›: List<NodeInfo>
```

#### getOnlineNodeCount()
è·å–åœ¨çº¿èŠ‚ç‚¹æ•°
```typescript
GET /api/node/online/count
è¿”å›: number
```

#### getTopology()
è·å–ç½‘ç»œæ‹“æ‰‘
```typescript
GET /api/node/topology
è¿”å›: List<NodeInfo>
```

#### addNode(nodeInfo)
æ·»åŠ èŠ‚ç‚¹
```typescript
POST /api/node
Body: NodeInfo
è¿”å›: Result<string>
```

#### updateNode(nodeId, nodeInfo)
æ›´æ–°èŠ‚ç‚¹
```typescript
PUT /api/node/{nodeId}
Body: NodeInfo
è¿”å›: Result<string>
```

#### deleteNode(nodeId)
åˆ é™¤èŠ‚ç‚¹
```typescript
DELETE /api/node/{nodeId}
è¿”å›: Result<string>
```

---

### 3. æŠ¥è­¦ç®¡ç†æ¥å£ (api/alarm.ts)

#### getAlarmList(params)
è·å–æŠ¥è­¦åˆ—è¡¨
```typescript
GET /api/alarm/list
å‚æ•°: {
  nodeId?: string
  alarmType?: string
  alarmLevel?: number
  handleStatus?: number
  startTime?: string
  endTime?: string
  pageNum: number
  pageSize: number
}
è¿”å›: PageResult<AlarmInfo>
```

#### getUnhandledAlarmCount()
è·å–æœªå¤„ç†æ•°é‡
```typescript
GET /api/alarm/unhandled/count
è¿”å›: number
```

#### handleAlarm(id, status, remark)
å¤„ç†æŠ¥è­¦
```typescript
PUT /api/alarm/handle/{id}
å‚æ•°: {
  handleStatus: number
  handleRemark: string
}
è¿”å›: Result<string>
```

---

### 4. è®¾å¤‡æ§åˆ¶æ¥å£ (api/device.ts)

#### getDeviceList(deviceType?)
è·å–è®¾å¤‡åˆ—è¡¨
```typescript
GET /api/device/list?deviceType=FAN
è¿”å›: List<DeviceInfo>
```

#### controlDevice(deviceId, action, operator)
æ§åˆ¶è®¾å¤‡
```typescript
POST /api/device/control
Body: {
  deviceId: string
  action: 'START' | 'STOP'
  operator: string
}
è¿”å›: Result<string>
```

#### switchAutoMode(deviceId, autoMode)
åˆ‡æ¢æ§åˆ¶æ¨¡å¼
```typescript
PUT /api/device/{deviceId}/mode
Body: {
  autoMode: 0 | 1
}
è¿”å›: Result<string>
```

#### getControlLogs(params)
è·å–æ§åˆ¶æ—¥å¿—
```typescript
GET /api/device/log
å‚æ•°: {
  deviceId?: string
  controlType?: string
  startTime?: string
  endTime?: string
  page: number
  pageSize: number
}
è¿”å›: PageResult<DeviceControlLog>
```

---

## ğŸ“Š æ•°æ®æµè½¬

### æ•°æ®æµå‘å›¾

```
ä¼ æ„Ÿå™¨èŠ‚ç‚¹ â†’ SocketæœåŠ¡å™¨ â†’ åç«¯æ•°æ®åº“
                â†“
            WebSocketå®æ—¶æ¨é€
                â†“
        å‰ç«¯é¡µé¢ â† HTTPè½®è¯¢æŸ¥è¯¢
```

### å®æ—¶æ•°æ®æ›´æ–°æœºåˆ¶

**æ–¹å¼1: å®šæ—¶è½®è¯¢**
```typescript
let refreshTimer: number | null = null

const startAutoRefresh = () => {
  refreshTimer = window.setInterval(() => {
    refreshData()
  }, 30000) // 30ç§’
}

onMounted(() => {
  startAutoRefresh()
})

onUnmounted(() => {
  if (refreshTimer) {
    clearInterval(refreshTimer)
  }
})
```

**æ–¹å¼2: WebSocket(å¾…å®ç°)**
```typescript
const ws = new WebSocket('ws://localhost:9090/ws')

ws.onmessage = (event) => {
  const data = JSON.parse(event.data)
  // æ›´æ–°é¡µé¢æ•°æ®
}
```

---

## ğŸ¨ æ ·å¼è§„èŒƒ

### é¢œè‰²ç³»ç»Ÿ

**ä¸»è‰²è°ƒ**:
- ä¸»è‰²: `#667eea` (æ¸å˜ç´«)
- è¾…è‰²: `#764ba2` (æ·±ç´«)

**åŠŸèƒ½è‰²**:
- æˆåŠŸ: `#67c23a` (ç»¿)
- è­¦å‘Š: `#e6a23c` (æ©™)
- å±é™©: `#f56c6c` (çº¢)
- ä¿¡æ¯: `#409eff` (è“)

**çŠ¶æ€è‰²**:
- åœ¨çº¿: `#67c23a`
- ç¦»çº¿: `#f56c6c`
- æœªçŸ¥: `#909399`

### å›¾æ ‡ç³»ç»Ÿ

ä½¿ç”¨Element Pluså›¾æ ‡åº“:
- Sunny: æ¸©åº¦
- Drizzling: æ¹¿åº¦
- Warning: æ°¨æ°”
- WarnTriangleFilled: ç¡«åŒ–æ°¢
- TrendCharts: THIæŒ‡æ•°
- Odometer: AQIæŒ‡æ•°
- Medal: è¯„åˆ†
- Bell: æŠ¥è­¦
- Connection: èŠ‚ç‚¹
- Setting: è®¾å¤‡

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev

# è®¿é—®åœ°å€
http://localhost:5173
```

### æ„å»ºéƒ¨ç½²

```bash
# ç”Ÿäº§æ„å»º
npm run build

# æ„å»ºé¢„è§ˆ
npm run preview
```

### ç±»å‹æ£€æŸ¥

```bash
# TypeScriptç±»å‹æ£€æŸ¥
npm run type-check
```

### ä»£ç è§„èŒƒ

```bash
# ESLintæ£€æŸ¥
npm run lint

# æ ¼å¼åŒ–ä»£ç 
npm run format
```

---

## ğŸ“± å“åº”å¼é€‚é…

### æ–­ç‚¹è®¾è®¡

- **xs**: <768px (æ‰‹æœº)
- **sm**: 768px-992px (å¹³æ¿ç«–å±)
- **md**: 992px-1200px (å¹³æ¿æ¨ªå±)
- **lg**: 1200px-1920px (æ¡Œé¢)
- **xl**: >1920px (å¤§å±)

### é€‚é…ç­–ç•¥

- ä½¿ç”¨Element Plusæ …æ ¼ç³»ç»Ÿ
- å¡ç‰‡è‡ªé€‚åº”å¸ƒå±€
- è¡¨æ ¼å“åº”å¼æ»šåŠ¨
- å›¾è¡¨è‡ªåŠ¨resize

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

### ä»£ç åˆ†å‰²

- è·¯ç”±æ‡’åŠ è½½
- ç»„ä»¶æŒ‰éœ€å¯¼å…¥
- ç¬¬ä¸‰æ–¹åº“åˆ†åŒ…

### å›¾è¡¨ä¼˜åŒ–

- EChartsæŒ‰éœ€å¼•å…¥
- æ•°æ®é‡‡æ ·æ˜¾ç¤º
- é˜²æŠ–èŠ‚æµå¤„ç†

### è¯·æ±‚ä¼˜åŒ–

- æ¥å£ç¼“å­˜
- è¯·æ±‚å»é‡
- å¹¶å‘æ§åˆ¶

---

## ğŸ› è°ƒè¯•æŠ€å·§

### æ§åˆ¶å°æ—¥å¿—

ä»£ç ä¸­æ·»åŠ äº†è¯¦ç»†çš„è°ƒè¯•æ—¥å¿—:
- ğŸ” æŸ¥è¯¢å‚æ•°
- ğŸ“„ è¿”å›æ•°æ®
- âš ï¸ è­¦å‘Šä¿¡æ¯
- âœ… æˆåŠŸæ ‡è®°
- âŒ é”™è¯¯æ ‡è®°

### æµè§ˆå™¨å¼€å‘å·¥å…·

- Vue DevTools: æŸ¥çœ‹ç»„ä»¶çŠ¶æ€
- Network: ç›‘æ§APIè¯·æ±‚
- Console: æŸ¥çœ‹æ—¥å¿—è¾“å‡º
- Performance: æ€§èƒ½åˆ†æ

---

## ğŸ“š æŠ€æœ¯æ–‡æ¡£

### ç›¸å…³æ–‡æ¡£é“¾æ¥

- [Vue 3 å®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/)
- [Element Plus æ–‡æ¡£](https://element-plus.org/zh-CN/)
- [ECharts æ–‡æ¡£](https://echarts.apache.org/zh/index.html)
- [TypeScript æ–‡æ¡£](https://www.typescriptlang.org/zh/)
- [Vite æ–‡æ¡£](https://cn.vitejs.dev/)

---

## ğŸ¯ åŠŸèƒ½æ¸…å•æ€»è§ˆ

### âœ… å·²å®ç°åŠŸèƒ½

- [x] æ•°æ®ç›‘æ§å¤§å±
- [x] 8ä¸ªç»Ÿè®¡å¡ç‰‡
- [x] 4ä¸ªè¶‹åŠ¿å›¾è¡¨
- [x] ç½‘ç»œæ‹“æ‰‘å¯è§†åŒ–
- [x] èŠ‚ç‚¹CRUDæ“ä½œ
- [x] æŠ¥è­¦åˆ—è¡¨æŸ¥è¯¢
- [x] æŠ¥è­¦å¤„ç†åŠŸèƒ½
- [x] è®¾å¤‡è¿œç¨‹æ§åˆ¶
- [x] æ§åˆ¶æ—¥å¿—è®°å½•
- [x] å†å²æ•°æ®æŸ¥è¯¢
- [x] æ•°æ®è¶‹åŠ¿å›¾
- [x] ç³»ç»Ÿé…ç½®ç®¡ç†
- [x] THI/AQI/è¯„åˆ†è®¡ç®—
- [x] æŒ‡æ ‡å…¬å¼è¯´æ˜å¯¹è¯æ¡† ğŸ†•
- [x] æ™ºèƒ½æ•°æ®æŸ¥è¯¢ç­–ç•¥ ğŸ†•
- [x] å†å²æ•°æ®é™çº§æŸ¥è¯¢ ğŸ†•

### ğŸ”œ å¾…å¼€å‘åŠŸèƒ½

- [ ] WebSocketå®æ—¶æ¨é€
- [ ] ç”¨æˆ·ç™»å½•è®¤è¯
- [ ] æƒé™ç®¡ç†ç³»ç»Ÿ
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯é€‚é…
- [ ] å›½é™…åŒ–æ”¯æŒ
- [ ] æš—é»‘æ¨¡å¼

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜,è¯·è”ç³»å¼€å‘å›¢é˜Ÿæˆ–æŸ¥é˜…åœ¨çº¿æ–‡æ¡£ã€‚

**æ–‡æ¡£ç‰ˆæœ¬**: v1.5  
**æ›´æ–°æ—¥æœŸ**: 2025-11-19  
**ç»´æŠ¤äººå‘˜**: å‰ç«¯å¼€å‘ç»„

---

*æœ¬æ–‡æ¡£æŒç»­æ›´æ–°ä¸­,å¦‚æœ‰é—æ¼æˆ–é”™è¯¯,æ¬¢è¿åé¦ˆã€‚*
