# 基于无线传感器网络的智能牛棚环境监测系统 - 需求分析文档

## 文档信息
- **项目名称**：基于ZigBee无线传感器网络的智能牛棚环境监测系统
- **文档版本**：v1.0
- **编制日期**：2025年11月17日
- **项目类型**：环境监测与智能控制系统

---

## 1. 项目概述

### 1.1 项目背景
随着现代畜牧业的发展，牛棚环境的智能化监测与管理对于提高养殖效率、保障动物健康具有重要意义。传统的人工监测方式存在效率低、成本高、实时性差等问题。本项目旨在利用无线传感器网络技术，构建一套智能化的牛棚环境监测系统，实现环境参数的实时采集、传输、存储、分析和智能控制。

### 1.2 项目目标
- 实现牛棚环境参数（温度、湿度、氨气、硫化氢）的实时监测
- 构建基于ZigBee协议的无线传感器网络，实现数据无线传输
- 开发Web端可视化监控平台，提供直观的数据展示
- 实现环境异常智能告警功能
- 实现设备联动控制，自动调节牛棚环境
- 提供历史数据查询与分析功能

### 1.3 项目范围
本项目为**模拟仿真系统**，不涉及实际硬件部署。系统通过软件模拟的方式实现传感器数据采集、ZigBee网络通信、数据处理、可视化展示和智能控制等功能。

---

## 2. 系统架构设计

### 2.1 总体架构
系统采用**四层架构**设计：
```
感知层（模拟） → 网络层（模拟） → 应用层 → 表示层
```

#### 2.1.1 感知层（模拟）
- **传感器节点模拟器**：模拟CC2530 + DHT11 + NH₃ + H₂S传感器数据采集
- **数据生成**：基于真实场景生成温度、湿度、氨气、硫化氢浓度数据
- **异常场景模拟**：模拟环境参数超标、传感器故障等场景

#### 2.1.2 网络层（模拟）
- **ZigBee网络拓扑模拟**：星型网络拓扑（1个协调器 + 多个终端节点）
- **通信协议模拟**：模拟ZigBee无线通信过程
- **串口通信模拟**：模拟协调器与PC之间的串口数据传输

#### 2.1.3 应用层
- **后端服务**：基于SSM框架（Spring + Spring MVC + MyBatis），Java 21
- **数据库**：MySQL，负责数据持久化存储
- **业务逻辑**：数据接收、解析、存储、告警判断、设备控制

#### 2.1.4 表示层
- **前端界面**：基于Vue 3 + ECharts，提供可视化监控界面
- **用户交互**：实时数据展示、历史查询、告警管理、设备控制

### 2.2 技术栈

#### 2.2.1 开发环境
| 技术 | 版本/说明 |
|------|----------|
| Java | JDK 21 |
| Python | Python 3.x（用于传感器模拟器） |
| Node.js | 最新LTS版本（前端开发） |
| MySQL | 8.0+ |
| Maven | 3.6+ |

#### 2.2.2 后端技术栈
- **Spring Framework**：依赖注入、AOP、事务管理
- **Spring MVC**：RESTful API设计、请求处理
- **MyBatis**：数据持久化、ORM映射
- **其他依赖**：
  - Lombok：简化实体类开发
  - Jackson：JSON序列化/反序列化
  - HikariCP：数据库连接池
  - Log4j2/Logback：日志管理
  - jSerialComm：串口通信库（模拟）

#### 2.2.3 前端技术栈
- **Vue 3**：渐进式JavaScript框架
- **Vue Router**：前端路由管理
- **Pinia**：状态管理
- **ECharts 5**：数据可视化
- **Element Plus**：UI组件库
- **Axios**：HTTP请求
- **WebSocket**：实时数据推送

#### 2.2.4 模拟器技术
- **Python**：传感器数据模拟
- **PySerial**：串口通信模拟
- **NumPy**：数值计算（数据生成）

---

## 3. 功能需求

### 3.1 传感器数据模拟模块

#### 3.1.1 传感器节点模拟
- **FR-1.1.1** 系统应模拟至少3个传感器节点，每个节点包含：
  - DHT11温湿度传感器（温度范围：-10°C ~ 50°C，湿度范围：20% ~ 90%）
  - NH₃氨气传感器（浓度范围：0 ~ 100 ppm）
  - H₂S硫化氢传感器（浓度范围：0 ~ 50 ppm）
  
- **FR-1.1.2** 每个节点应具有唯一标识（节点ID），支持节点位置信息配置

- **FR-1.1.3** 模拟器应支持以下数据生成模式：
  - **正常模式**：数据在正常范围内随机波动
  - **异常模式**：模拟超标场景（氨气>25ppm，硫化氢>10ppm，温度<5°C或>35°C）
  - **故障模式**：模拟传感器故障（数据异常、通信中断）

#### 3.1.2 数据采集周期
- **FR-1.2.1** 默认采集周期：30秒/次，支持配置（10秒~60秒）
- **FR-1.2.2** 每次采集应生成完整的数据包，包含时间戳、节点ID、传感器数据

### 3.2 ZigBee网络通信模拟模块

#### 3.2.1 网络拓扑
- **FR-2.1.1** 系统应模拟星型ZigBee网络拓扑：
  - 1个协调器（Coordinator）
  - 多个终端节点（End Device，3-10个可配置）
  
- **FR-2.1.2** 协调器负责：
  - 网络初始化与管理
  - 接收终端节点数据
  - 数据汇聚与转发至PC

#### 3.2.2 通信协议模拟
- **FR-2.2.1** 模拟ZigBee通信过程：
  - 终端节点 → 协调器：上行数据传输
  - 协调器 → 终端节点：下行控制指令
  
- **FR-2.2.2** 数据包格式设计（模拟）：
  ```
  [帧头] [节点ID] [数据长度] [传感器数据] [校验和] [帧尾]
  ```

#### 3.2.3 串口通信模拟
- **FR-2.3.1** 模拟协调器与PC之间的串口通信（虚拟串口/Socket通信）
- **FR-2.3.2** 支持串口参数配置：波特率（默认115200）、数据位、停止位、校验位
- **FR-2.3.3** 后端应能接收并解析串口数据

### 3.3 数据接收与处理模块

#### 3.3.1 数据接收
- **FR-3.1.1** 后端应提供串口监听服务，实时接收模拟器数据
- **FR-3.1.2** 支持数据完整性校验（校验和验证）
- **FR-3.1.3** 数据接收异常处理（超时、格式错误、校验失败）

#### 3.3.2 数据解析
- **FR-3.2.1** 解析数据包，提取节点ID、时间戳、传感器读数
- **FR-3.2.2** 数据单位转换与标准化
- **FR-3.2.3** 数据有效性验证（范围检查）

#### 3.3.3 数据存储
- **FR-3.3.1** 实时数据应存储至MySQL数据库，包含以下字段：
  - 记录ID（主键，自增）
  - 节点ID
  - 采集时间
  - 温度值（°C）
  - 湿度值（%）
  - 氨气浓度（ppm）
  - 硫化氢浓度（ppm）
  - 数据状态（正常/异常）
  
- **FR-3.3.2** 支持批量写入，提高存储效率
- **FR-3.3.3** 历史数据保留策略（如：保留最近3个月数据）

### 3.4 智能告警模块

#### 3.4.1 告警规则配置
- **FR-4.1.1** 系统应支持以下默认告警阈值：
  - 氨气浓度：>25 ppm（警告），>40 ppm（严重）
  - 硫化氢浓度：>10 ppm（警告），>20 ppm（严重）
  - 温度：<5°C 或 >35°C（警告），<0°C 或 >40°C（严重）
  - 湿度：<30% 或 >85%（警告）
  
- **FR-4.1.2** 支持告警阈值自定义配置
- **FR-4.1.3** 支持多级告警（正常、警告、严重、紧急）

#### 3.4.2 告警触发
- **FR-4.2.1** 实时监测传感器数据，自动判断是否超阈值
- **FR-4.2.2** 触发告警时，生成告警记录，包含：
  - 告警ID
  - 告警时间
  - 节点ID
  - 告警类型（氨气/硫化氢/温度/湿度）
  - 告警级别
  - 当前值
  - 处理状态（未处理/已处理）
  
- **FR-4.2.3** 支持告警去重（同一节点同一类型告警，10分钟内不重复触发）

#### 3.4.3 告警通知
- **FR-4.3.1** 前端实时接收告警信息（WebSocket推送）
- **FR-4.3.2** 告警弹窗提示（声音+视觉）
- **FR-4.3.3** 告警历史记录查询

### 3.5 设备联动控制模块

#### 3.5.1 控制设备模拟
- **FR-5.1.1** 系统应模拟以下控制设备：
  - **风机**：用于通风换气，降低有害气体浓度
  - **卷帘**：用于调节光照和通风
  - **供热系统**：用于冬季保温
  
- **FR-5.1.2** 每个设备应具有状态（开/关）和控制接口

#### 3.5.2 自动控制策略
- **FR-5.2.1** 氨气或硫化氢超标时，自动启动风机
- **FR-5.2.2** 温度过高时（>30°C），自动打开卷帘+启动风机
- **FR-5.2.3** 温度过低时（<5°C），自动启动供热系统
- **FR-5.2.4** 环境参数恢复正常后，自动关闭相应设备（延迟5分钟）

#### 3.5.3 手动控制
- **FR-5.3.1** 用户可通过前端界面手动控制设备开关
- **FR-5.3.2** 手动控制优先级高于自动控制
- **FR-5.3.3** 手动控制操作应记录日志

#### 3.5.4 控制反馈
- **FR-5.4.1** 控制指令应通过模拟串口发送至ZigBee网络
- **FR-5.4.2** 设备状态变化应实时反馈至前端
- **FR-5.4.3** 控制操作记录存储至数据库

### 3.6 数据可视化模块

#### 3.6.1 实时监控
- **FR-6.1.1** 首页展示所有节点当前状态：
  - 节点位置分布图
  - 实时传感器读数
  - 设备运行状态
  - 告警状态指示
  
- **FR-6.1.2** 数据自动刷新（5秒/次）

#### 3.6.2 数据图表
- **FR-6.2.1** 使用ECharts展示以下图表：
  - **折线图**：温度、湿度、氨气、硫化氢的时间序列变化
  - **仪表盘**：当前环境参数的直观展示
  - **柱状图**：多节点数据对比
  - **热力图**：牛棚区域环境分布（可选）
  
- **FR-6.2.2** 支持时间范围选择（最近1小时、6小时、24小时、7天、自定义）
- **FR-6.2.3** 支持图表数据导出（PNG、CSV）

#### 3.6.3 节点详情
- **FR-6.3.1** 点击节点查看详细信息：
  - 节点基本信息
  - 历史数据曲线
  - 告警历史
  - 设备控制面板

### 3.7 系统管理模块

#### 3.7.1 用户管理（可选）
- **FR-7.1.1** 用户登录/登出
- **FR-7.1.2** 用户角色：管理员、普通用户
- **FR-7.1.3** 权限控制（查看/控制/配置）

#### 3.7.2 节点管理
- **FR-7.2.1** 节点列表展示（节点ID、位置、状态、最后通信时间）
- **FR-7.2.2** 节点新增/编辑/删除
- **FR-7.2.3** 节点在线状态监测（超过5分钟无数据标记为离线）

#### 3.7.3 告警配置
- **FR-7.3.1** 告警阈值配置界面
- **FR-7.3.2** 告警规则启用/禁用
- **FR-7.3.3** 告警历史查询与统计

#### 3.7.4 系统配置
- **FR-7.4.1** 数据采集周期配置
- **FR-7.4.2** 自动控制策略配置
- **FR-7.4.3** 串口参数配置
- **FR-7.4.4** 系统日志查看

---

## 4. 非功能需求

### 4.1 性能需求
- **NFR-1.1** 系统应支持同时处理10个传感器节点的数据
- **NFR-1.2** 数据接收延迟应小于1秒
- **NFR-1.3** 前端界面响应时间应小于500ms
- **NFR-1.4** 数据库查询响应时间应小于2秒
- **NFR-1.5** 支持并发用户数：10人以上

### 4.2 可靠性需求
- **NFR-2.1** 系统应具备异常处理机制，避免单点故障导致系统崩溃
- **NFR-2.2** 数据接收服务应具备自动重连功能
- **NFR-2.3** 数据库连接池应支持连接自动恢复
- **NFR-2.4** 系统运行稳定性：7×24小时连续运行

### 4.3 可维护性需求
- **NFR-3.1** 代码应遵循规范，包含必要注释
- **NFR-3.2** 采用分层架构，模块解耦，便于扩展
- **NFR-3.3** 提供详细的系统部署文档
- **NFR-3.4** 日志记录应完整，便于问题排查

### 4.4 安全性需求
- **NFR-4.1** 数据库连接应使用加密传输（可选）
- **NFR-4.2** 用户密码应加密存储（如使用BCrypt）
- **NFR-4.3** API接口应进行身份验证（JWT Token）
- **NFR-4.4** 防止SQL注入、XSS攻击

### 4.5 兼容性需求
- **NFR-5.1** 前端应兼容主流浏览器（Chrome、Firefox、Edge、Safari最新版本）
- **NFR-5.2** 系统应支持Windows、Linux、macOS操作系统部署
- **NFR-5.3** 数据库应兼容MySQL 8.0及以上版本

### 4.6 可扩展性需求
- **NFR-6.1** 系统架构应支持传感器类型扩展（如光照、CO₂传感器）
- **NFR-6.2** 支持节点数量扩展（100个以上）
- **NFR-6.3** 支持控制设备类型扩展（如喷淋系统、照明系统）

---

## 5. 数据库设计

### 5.1 数据表结构

#### 5.1.1 传感器数据表（sensor_data）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | BIGINT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| node_id | VARCHAR(20) | 节点ID | NOT NULL, INDEX |
| temperature | DECIMAL(5,2) | 温度值（°C） | NOT NULL |
| humidity | DECIMAL(5,2) | 湿度值（%） | NOT NULL |
| nh3_concentration | DECIMAL(6,2) | 氨气浓度（ppm） | NOT NULL |
| h2s_concentration | DECIMAL(6,2) | 硫化氢浓度（ppm） | NOT NULL |
| data_status | TINYINT | 数据状态（0正常，1异常） | DEFAULT 0 |
| collect_time | DATETIME | 采集时间 | NOT NULL, INDEX |
| create_time | TIMESTAMP | 记录创建时间 | DEFAULT CURRENT_TIMESTAMP |

#### 5.1.2 节点信息表（node_info）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | INT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| node_id | VARCHAR(20) | 节点ID | UNIQUE, NOT NULL |
| node_name | VARCHAR(50) | 节点名称 | NOT NULL |
| location | VARCHAR(100) | 节点位置 | NULL |
| status | TINYINT | 节点状态（0离线，1在线） | DEFAULT 1 |
| last_online_time | DATETIME | 最后在线时间 | NULL |
| create_time | TIMESTAMP | 创建时间 | DEFAULT CURRENT_TIMESTAMP |
| update_time | TIMESTAMP | 更新时间 | ON UPDATE CURRENT_TIMESTAMP |

#### 5.1.3 告警记录表（alarm_record）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | BIGINT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| node_id | VARCHAR(20) | 节点ID | NOT NULL, INDEX |
| alarm_type | VARCHAR(20) | 告警类型（temperature/humidity/nh3/h2s） | NOT NULL |
| alarm_level | TINYINT | 告警级别（1警告，2严重，3紧急） | NOT NULL |
| current_value | DECIMAL(6,2) | 当前值 | NOT NULL |
| threshold_value | DECIMAL(6,2) | 阈值 | NOT NULL |
| alarm_time | DATETIME | 告警时间 | NOT NULL, INDEX |
| status | TINYINT | 处理状态（0未处理，1已处理） | DEFAULT 0 |
| handle_time | DATETIME | 处理时间 | NULL |
| remark | VARCHAR(200) | 备注 | NULL |

#### 5.1.4 设备信息表（device_info）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | INT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| device_id | VARCHAR(20) | 设备ID | UNIQUE, NOT NULL |
| device_name | VARCHAR(50) | 设备名称 | NOT NULL |
| device_type | VARCHAR(20) | 设备类型（fan/curtain/heating） | NOT NULL |
| status | TINYINT | 设备状态（0关闭，1开启） | DEFAULT 0 |
| control_mode | TINYINT | 控制模式（0手动，1自动） | DEFAULT 1 |
| create_time | TIMESTAMP | 创建时间 | DEFAULT CURRENT_TIMESTAMP |
| update_time | TIMESTAMP | 更新时间 | ON UPDATE CURRENT_TIMESTAMP |

#### 5.1.5 设备控制日志表（device_control_log）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | BIGINT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| device_id | VARCHAR(20) | 设备ID | NOT NULL, INDEX |
| control_action | VARCHAR(10) | 控制动作（on/off） | NOT NULL |
| control_mode | TINYINT | 控制模式（0手动，1自动） | NOT NULL |
| operator | VARCHAR(50) | 操作者 | NULL |
| control_time | DATETIME | 控制时间 | NOT NULL |
| reason | VARCHAR(200) | 原因/触发条件 | NULL |

#### 5.1.6 系统配置表（system_config）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | INT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| config_key | VARCHAR(50) | 配置键 | UNIQUE, NOT NULL |
| config_value | VARCHAR(200) | 配置值 | NOT NULL |
| description | VARCHAR(200) | 描述 | NULL |
| update_time | TIMESTAMP | 更新时间 | ON UPDATE CURRENT_TIMESTAMP |

#### 5.1.7 用户表（user）（可选）
| 字段名 | 类型 | 说明 | 约束 |
|--------|------|------|------|
| id | INT | 主键ID | AUTO_INCREMENT, PRIMARY KEY |
| username | VARCHAR(50) | 用户名 | UNIQUE, NOT NULL |
| password | VARCHAR(100) | 密码（加密） | NOT NULL |
| real_name | VARCHAR(50) | 真实姓名 | NULL |
| role | VARCHAR(20) | 角色（admin/user） | DEFAULT 'user' |
| status | TINYINT | 状态（0禁用，1启用） | DEFAULT 1 |
| create_time | TIMESTAMP | 创建时间 | DEFAULT CURRENT_TIMESTAMP |
| last_login_time | DATETIME | 最后登录时间 | NULL |

---

## 6. 接口设计

### 6.1 RESTful API设计原则
- 使用HTTP动词：GET（查询）、POST（创建）、PUT（更新）、DELETE（删除）
- 统一返回格式：
```json
{
  "code": 200,
  "message": "success",
  "data": {}
}
```
- 错误码规范：200成功，400参数错误，401未授权，404未找到，500服务器错误

### 6.2 主要API接口

#### 6.2.1 传感器数据接口
- **GET /api/sensor/latest**：获取所有节点最新数据
- **GET /api/sensor/history**：获取历史数据（支持分页、时间筛选）
  - 参数：nodeId, startTime, endTime, pageNum, pageSize
- **GET /api/sensor/data/{nodeId}**：获取指定节点最新数据
- **POST /api/sensor/data**：接收传感器数据（内部接口）

#### 6.2.2 节点管理接口
- **GET /api/node/list**：获取所有节点列表
- **GET /api/node/{nodeId}**：获取指定节点详情
- **POST /api/node**：添加新节点
- **PUT /api/node/{nodeId}**：更新节点信息
- **DELETE /api/node/{nodeId}**：删除节点

#### 6.2.3 告警管理接口
- **GET /api/alarm/list**：获取告警列表（支持分页、状态筛选）
  - 参数：status, alarmType, startTime, endTime, pageNum, pageSize
- **GET /api/alarm/unhandled**：获取未处理告警
- **PUT /api/alarm/handle/{alarmId}**：处理告警
- **GET /api/alarm/statistics**：告警统计（按类型、级别、时间段）

#### 6.2.4 设备控制接口
- **GET /api/device/list**：获取设备列表
- **GET /api/device/{deviceId}**：获取设备状态
- **POST /api/device/control**：控制设备
  - 参数：deviceId, action（on/off）, mode（manual/auto）
- **GET /api/device/log**：获取设备控制日志

#### 6.2.5 系统配置接口
- **GET /api/config/all**：获取所有配置
- **GET /api/config/{key}**：获取指定配置
- **PUT /api/config/{key}**：更新配置

#### 6.2.6 数据统计接口
- **GET /api/statistics/overview**：获取系统概览（节点数、告警数、设备状态）
- **GET /api/statistics/data**：获取数据统计（平均值、最大值、最小值）
  - 参数：nodeId, dataType, startTime, endTime

### 6.3 WebSocket接口
- **ws://host:port/ws/data**：实时数据推送
- **ws://host:port/ws/alarm**：实时告警推送
- **ws://host:port/ws/device**：设备状态推送

---

## 7. 模拟器设计

### 7.1 Python传感器模拟器

#### 7.1.1 功能模块
- **数据生成模块**：基于算法生成真实感的传感器数据
- **通信模块**：模拟ZigBee协议，通过串口/Socket发送数据
- **控制模块**：接收后端控制指令，模拟设备响应
- **配置模块**：支持节点数量、采集周期、异常场景配置

#### 7.1.2 数据生成算法
- **正常模式**：
  - 温度：基准值（20°C）+ 正弦波动 + 随机噪声
  - 湿度：基准值（60%）+ 随机波动（±5%）
  - 氨气：基准值（5ppm）+ 随机波动（0-10ppm）
  - 硫化氢：基准值（2ppm）+ 随机波动（0-5ppm）
  
- **异常模式**：
  - 定时或随机触发超标场景
  - 氨气突增至30-50ppm
  - 硫化氢突增至15-25ppm
  - 温度骤降至0°C以下或骤升至40°C以上

#### 7.1.3 通信协议
- 数据包格式（16进制）：
```
0xAA [NodeID] [Len] [Temp_H] [Temp_L] [Humi_H] [Humi_L] 
[NH3_H] [NH3_L] [H2S_H] [H2S_L] [CheckSum] 0x55
```

### 7.2 ZigBee网络模拟
- 使用虚拟串口工具（如com0com、socat）创建虚拟串口对
- Python模拟器写入一端，Java后端读取另一端
- 或使用TCP/IP Socket通信代替串口

---

## 8. 项目实施计划

### 8.1 开发阶段划分

#### 第一阶段：环境搭建与模拟器开发（1周）
- [ ] 开发环境搭建（JDK、MySQL、Node.js、Python）
- [ ] 数据库设计与初始化
- [ ] Python传感器模拟器开发
- [ ] 虚拟串口/Socket通信测试

#### 第二阶段：后端开发（2周）
- [ ] SSM框架搭建
- [ ] 串口数据接收服务开发
- [ ] 数据解析与存储模块
- [ ] RESTful API开发（传感器数据、节点管理）
- [ ] 告警模块开发
- [ ] 设备控制模块开发
- [ ] WebSocket实时推送

#### 第三阶段：前端开发（2周）
- [ ] Vue 3项目初始化
- [ ] 页面布局与路由设计
- [ ] 实时监控页面（ECharts图表）
- [ ] 节点管理页面
- [ ] 告警管理页面
- [ ] 设备控制页面
- [ ] 系统配置页面
- [ ] WebSocket客户端集成

#### 第四阶段：联调与测试（1周）
- [ ] 前后端联调
- [ ] 模拟器与后端联调
- [ ] 功能测试（正常场景、异常场景）
- [ ] 性能测试
- [ ] Bug修复

#### 第五阶段：文档编写与项目总结（1周）
- [ ] 用户手册
- [ ] 部署文档
- [ ] API文档
- [ ] 项目演示视频
- [ ] 项目总结报告

### 8.2 里程碑
- **Week 1**：模拟器完成，能生成并发送数据
- **Week 3**：后端核心功能完成，API可用
- **Week 5**：前端界面完成，基本可视化功能实现
- **Week 6**：系统联调完成，功能测试通过
- **Week 7**：项目交付，文档齐全

---

## 9. 风险分析与应对

### 9.1 技术风险
| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| 虚拟串口通信不稳定 | 中 | 中 | 提供Socket通信备选方案 |
| 数据量过大影响性能 | 低 | 中 | 数据库索引优化、定期清理历史数据 |
| WebSocket连接断开 | 中 | 低 | 实现自动重连机制 |
| 前端图表渲染卡顿 | 低 | 低 | 数据抽样、按需加载 |

### 9.2 开发风险
| 风险 | 可能性 | 影响 | 应对措施 |
|------|--------|------|----------|
| 开发进度延期 | 中 | 中 | 合理规划任务，预留缓冲时间 |
| 技术难点攻克困难 | 低 | 高 | 提前技术调研，寻求技术支持 |
| 需求变更 | 低 | 中 | 需求冻结机制，变更评审流程 |



---

## 11. 附录

### 11.1 术语表
| 术语 | 解释 |
|------|------|
| ZigBee | 一种低功耗无线通信协议，适用于传感器网络 |
| CC2530 | 德州仪器（TI）的ZigBee芯片 |
| DHT11 | 数字温湿度传感器 |
| NH₃ | 氨气，具有刺激性气味的无色气体 |
| H₂S | 硫化氢，具有臭鸡蛋味的剧毒气体 |
| ppm | 浓度单位，百万分之一（parts per million） |
| SSM | Spring + Spring MVC + MyBatis框架组合 |
| REST | 表述性状态传递，一种Web API设计风格 |
| WebSocket | 一种网络通信协议，支持双向通信 |

---

**文档结束**

> 本需求分析文档为基于ZigBee无线传感器网络的智能牛棚环境监测系统的完整需求说明，涵盖了系统架构、功能需求、非功能需求、数据库设计、接口设计、模拟器设计、项目计划等内容。该文档将作为后续系统设计、开发、测试的重要依据。
